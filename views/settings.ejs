<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Settings - Clinic ERP</title>
  <link rel="stylesheet" href="/stylesheet/styles.css?v=2">
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <h2>ðŸ©º Clinic ERP</h2>
      <nav>
        <a href="/index">Dashboard</a>
        <a href="/patients">Patients</a>
        <a href="/appointments">Appointments</a>
        <a href="/billing">Billing</a>
        <a href="/reports">Reports</a>
        <a href="/doctor">Doctors</a>
        <a href="/settings" class="active">Settings</a>
      </nav>
    </aside>

    <main class="main">
      <header class="topbar">
        <h1>Settings</h1>
      </header>

      <section class="content">
        <% if (message) { %>
          <p style="color: green"><%= message %></p>
        <% } %>

        <form class="form" action="/settings/update" method="POST">
          <h3>Clinic Details</h3>

          <label>Clinic Name</label>
          <input type="text" name="clinicName" value="<%= setting.clinicName %>" required />

          <label>Address</label>
          <input type="text" name="address" value="<%= setting.address %>" />

          <label>Contact Email</label>
          <input type="email" name="email" value="<%= setting.email %>" />

          <label>Phone</label>
          <input type="text" name="phone" value="<%= setting.phone %>" />

          <hr />

          <h3>Working Hours</h3>
          <label>Opening Time</label>
          <input type="time" name="open" value="<%= setting.workingHours ? setting.workingHours.open : '' %>" />

          <label>Closing Time</label>
          <input type="time" name="close" value="<%= setting.workingHours ? setting.workingHours.close : '' %>" />

          <hr />

          <h3>Appointments</h3>
          <label>Slot Duration (minutes)</label>
          <input type="number" name="slotDuration" value="<%= setting.appointment ? setting.appointment.slotDuration : 30 %>" />

          <label>Max Patients Per Day</label>
          <input type="number" name="maxPatientsPerDay" value="<%= setting.appointment ? setting.appointment.maxPatientsPerDay : 50 %>" />

          <hr />

          <h3>Billing</h3>
          <label>Currency</label>
          <input type="text" name="currency" value="<%= setting.billing ? setting.billing.currency : 'INR' %>" />

          <label>Tax (%)</label>
          <input type="number" step="0.01" name="taxPercent" value="<%= setting.billing ? setting.billing.taxPercent : 0 %>" />

          <label>Invoice Prefix</label>
          <input type="text" name="invoicePrefix" value="<%= setting.billing ? setting.billing.invoicePrefix : 'INV-' %>" />

          <hr />

          <h3>Notifications</h3>
          <label>
            <input type="checkbox" name="enableSMS" <%= setting.notification && setting.notification.enableSMS ? 'checked' : '' %> />
            Enable SMS
          </label>

          <label>
            <input type="checkbox" name="enableEmail" <%= setting.notification && setting.notification.enableEmail ? 'checked' : '' %> />
            Enable Email
          </label>

          <label>Reminder Before (hours)</label>
          <input type="number" name="reminderBefore" value="<%= setting.notification ? setting.notification.reminderBefore : 24 %>" />

          <hr />

          <h3>Language</h3>
         

          <label>Language</label>
          <select name="language">
            <option value="en" <%= setting.theme && setting.theme.language === 'en' ? 'selected' : '' %>>English</option>
            <option value="hi" <%= setting.theme && setting.theme.language === 'hi' ? 'selected' : '' %>>Hindi</option>
          </select>

          <hr />

          <button type="submit" class="btn">Save Changes</button>
        </form>
      </section>
    </main>
  </div>
</body>
</html>
